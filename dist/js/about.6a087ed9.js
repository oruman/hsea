(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{cdd1:function(t,e,a){"use strict";a.r(e);var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",t._l(t.data,(function(t){return a("Audio",{key:t.link,attrs:{file:t.link,title:t.name,downloadable:"1"}})})),1)},o=[],d=(a("b0c0"),a("d3b7"),a("b85c")),s=a("d4ec"),u=a("bee2"),l=a("262e"),r=a("2caf"),c=a("9ab4"),h=a("60a3"),p=a("0284"),v=a("5f54"),f=function(){function t(){Object(s["a"])(this,t),this.data={},this.loadData()}return Object(u["a"])(t,[{key:"loadData",value:function(){var t=this;Object(v["a"])("https://oruman.github.io/hsea/json/state.json").then(v["c"]).then((function(t){return t.json()})).then(v["b"]).then((function(e){e.state&&e.state.user&&(t.data=e.state.user),p["b"].publish(p["a"].STATE_LOAD,null)}))}},{key:"studentId",get:function(){return this.data.student_id?this.data.student_id:0}}]),t}(),y=new f,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticStyle:{"text-align":"center"},attrs:{flat:!(void 0===t.flat||!1===t.flat)}},[t.title?a("v-card-title",{domProps:{textContent:t._s(t.title)}}):t._e(),a("v-card-text",[a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",icon:"",color:t.color,disabled:!t.loaded},nativeOn:{click:function(e){t.playing?t.pause():t.play()}}},[!t.playing||t.paused?a("v-icon",[t._v("mdi-play")]):a("v-icon",[t._v("mdi-pause")])],1),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",icon:"",color:t.color,disabled:!t.loaded},nativeOn:{click:function(e){return t.stop()}}},[a("v-icon",[t._v("mdi-stop")])],1),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",icon:"",color:t.color,disabled:!t.loaded},nativeOn:{click:function(e){return t.mute()}}},[t.isMuted?a("v-icon",[t._v("mdi-volume-mute")]):a("v-icon",[t._v("mdi-volume-high")])],1),t.loaded?t._e():a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",icon:"",color:t.color},nativeOn:{click:function(e){t.loaded?t.download():t.reload()}}},[a("v-icon",[t._v("mdi-refresh")])],1),t.loaded&&t.downloadable?a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",icon:"",color:t.color},nativeOn:{click:function(e){t.loaded?t.download():t.reload()}}},[a("v-icon",[t._v("mdi-download")])],1):t._e(),a("v-progress-linear",{staticStyle:{"margin-top":"15px","margin-bottom":"15px"},attrs:{height:"5",disabled:!t.loaded},nativeOn:{click:function(e){return t.setPosition()}},model:{value:t.percentage,callback:function(e){t.percentage=e},expression:"percentage"}}),a("p",[t._v(t._s(t.currentTime)+" / "+t._s(t.duration))])],1),a("audio",{ref:"player",attrs:{id:"player",src:t.file},on:{ended:t.ended,canplay:t.canPlay}})],1)},m=[],O=i=function(t){Object(l["a"])(a,t);var e=Object(r["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.call(this),t.firstPlay=!0,t.isMuted=!1,t.loaded=!1,t.playing=!1,t.paused=!1,t.percentage=0,t.currentTime="00:00:00",t.totalDuration=0,t.volumeValue=75,t.audio=t.$refs.player,t}return Object(u["a"])(a,[{key:"mounted",value:function(){this.init()}},{key:"beforeDestroy",value:function(){this.audio.removeEventListener("timeupdate",this._handlePlayingUI),this.audio.removeEventListener("loadeddata",this._handleLoaded),this.audio.removeEventListener("pause",this._handlePlayPause),this.audio.removeEventListener("play",this._handlePlayPause),this.audio.removeEventListener("ended",this._handleEnded)}},{key:"setPosition",value:function(){this.audio.currentTime=this.audio.duration/100*this.percentage}},{key:"stop",value:function(){this.audio.pause(),this.paused=!0,this.playing=!1,this.audio.currentTime=0}},{key:"play",value:function(){var t=this;this.playing||(this.audio.play().then((function(){return t.playing=!0})),this.paused=!1)}},{key:"pause",value:function(){this.paused=!this.paused,this.paused?this.audio.pause():this.audio.play()}},{key:"download",value:function(){this.audio.pause(),window.open(this.file,"download")}},{key:"mute",value:function(){this.isMuted=!this.isMuted,this.audio.muted=this.isMuted,this.volumeValue=this.isMuted?0:75}},{key:"reload",value:function(){this.audio.load()}},{key:"_handleLoaded",value:function(){var t=this;if(!(this.audio.readyState>=2))throw new Error("Failed to load sound file");this.audio.duration===1/0?(this.audio.currentTime=1e101,this.audio.ontimeupdate=function(){t.audio.ontimeupdate=function(){},t.audio.currentTime=0,t.totalDuration=t.audio.duration,t.loaded=!0}):(this.totalDuration=this.audio.duration,this.loaded=!0),this.autoPlay&&this.audio.play()}},{key:"_handlePlayingUI",value:function(){this.percentage=this.audio.currentTime/this.audio.duration*100,this.currentTime=i.formatTime(this.audio.currentTime),this.playing=!0}},{key:"_handlePlayPause",value:function(t){"play"===t.type&&this.firstPlay&&(this.audio.currentTime=0,this.firstPlay&&(this.firstPlay=!1)),"pause"!==t.type||this.paused||this.playing||(this.currentTime="00:00:00")}},{key:"_handleEnded",value:function(){this.paused=this.playing=!1}},{key:"init",value:function(){this.audio.addEventListener("timeupdate",this._handlePlayingUI),this.audio.addEventListener("loadeddata",this._handleLoaded),this.audio.addEventListener("pause",this._handlePlayPause),this.audio.addEventListener("play",this._handlePlayPause),this.audio.addEventListener("ended",this._handleEnded)}},{key:"duration",get:function(){return this.loaded?i.formatTime(this.totalDuration):""}}],[{key:"formatTime",value:function(t){return new Date(1e3*t).toISOString().substr(11,8)}}]),a}(h["d"]);Object(c["a"])([Object(h["c"])({type:Boolean,default:!1})],O.prototype,"flat",void 0),Object(c["a"])([Object(h["c"])({type:String,default:null})],O.prototype,"title",void 0),Object(c["a"])([Object(h["c"])({type:String,default:null})],O.prototype,"file",void 0),Object(c["a"])([Object(h["c"])({type:Boolean,default:!1})],O.prototype,"autoPlay",void 0),Object(c["a"])([Object(h["c"])({type:Function,default:function(){}})],O.prototype,"ended",void 0),Object(c["a"])([Object(h["c"])({type:Function,default:function(){}})],O.prototype,"canPlay",void 0),Object(c["a"])([Object(h["c"])({type:String,default:null})],O.prototype,"color",void 0),Object(c["a"])([Object(h["c"])({type:Boolean,default:!1})],O.prototype,"downloadable",void 0),O=i=Object(c["a"])([h["a"]],O);var j=O,_=j,g=a("2877"),k=a("6544"),P=a.n(k),T=a("8336"),w=a("b0af"),E=a("99d9"),L=a("132d"),D=a("8e36"),I=Object(g["a"])(_,b,m,!1,null,null,null),S=I.exports;P()(I,{VBtn:T["a"],VCard:w["a"],VCardText:E["a"],VCardTitle:E["b"],VIcon:L["a"],VProgressLinear:D["a"]});var C=function(t){Object(l["a"])(a,t);var e=Object(r["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.studentId=0,t.data=[],t}return Object(u["a"])(a,[{key:"mounted",value:function(){this.loadData(),p["b"].subscribe(p["a"].STATE_LOAD,this.loadData)}},{key:"beforeDestroy",value:function(){p["b"].unsubscribe(p["a"].STATE_LOAD,this.loadData)}},{key:"loadData",value:function(){var t=this;this.studentId||(this.studentId=y.studentId),this.studentId&&this.getListFiles(this.studentId).then((function(e){t.data=e}))}},{key:"getListFiles",value:function(t){return Object(v["a"])("http://localhost/hotspot-api/montspeaking.json").then(v["c"]).then((function(t){return t.json()})).then(v["b"]).then((function(t){var e=[];if(t.files){var a,i=Object(d["a"])(t.files);try{for(i.s();!(a=i.n()).done;){var n=a.value;n.id&&n.name&&e.push({id:n.id,name:n.name,link:"http://localhost/hotspot-api/Test1.weba"})}}catch(o){i.e(o)}finally{i.f()}}return e.length?Promise.resolve(e):Promise.reject()}))}}]),a}(h["d"]);C=Object(c["a"])([Object(h["a"])({components:{Audio:S}})],C);var x=C,V=x,A=a("a523"),M=Object(g["a"])(V,n,o,!1,null,null,null);e["default"]=M.exports;P()(M,{VContainer:A["a"]})}}]);
//# sourceMappingURL=about.6a087ed9.js.map