{"version":3,"sources":["webpack:///./src/views/MonSpeaking.vue?3606","webpack:///./src/services/stateService.ts","webpack:///./src/components/Audio.vue?d5ff","webpack:///./src/components/Audio.vue","webpack:///./src/components/Audio.vue?8609","webpack:///./src/components/Audio.vue?1c5f","webpack:///./src/views/MonSpeaking.vue","webpack:///./src/views/MonSpeaking.vue?4981","webpack:///./src/views/MonSpeaking.vue?77a0"],"names":["render","_vm","this","_h","$createElement","_c","_self","_l","item","key","link","attrs","name","staticRenderFns","data","loadData","then","response","json","state","user","publish","STATE_LOAD","student_id","GlobalStateService","staticStyle","undefined","flat","domProps","_s","title","_e","staticClass","color","loaded","nativeOn","$event","playing","pause","play","paused","_v","stop","mute","isMuted","download","reload","downloadable","setPosition","model","value","callback","$$v","percentage","expression","currentTime","duration","ref","file","on","ended","canPlay","firstPlay","totalDuration","volumeValue","audio","$refs","player","init","removeEventListener","_handlePlayingUI","_handleLoaded","_handlePlayPause","_handleEnded","window","open","muted","load","readyState","Error","Infinity","ontimeupdate","autoPlay","formatTime","e","type","addEventListener","seconds","Date","toISOString","substr","Boolean","default","String","Function","component","VBtn","VCard","VCardText","VCardTitle","VIcon","VProgressLinear","studentId","subscribe","unsubscribe","getListFiles","ret","files","id","push","length","Promise","resolve","reject","components","Audio","VContainer"],"mappings":"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","file":"js/about.6a087ed9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',_vm._l((_vm.data),function(item){return _c('Audio',{key:item.link,attrs:{\"file\":item.link,\"title\":item.name,\"downloadable\":\"1\"}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {\r\n  fetchWithTime,\r\n  validateJson,\r\n  validateStatus\r\n} from \"@/helpers/fetch-helpers\";\r\nimport { EventType, GlobalEvents } from \"@/services/eventSystem\";\r\n\r\nclass StateService {\r\n  private data: SimpleObject = {};\r\n\r\n  constructor() {\r\n    this.loadData();\r\n  }\r\n\r\n  public get studentId() {\r\n    return this.data.student_id ? this.data.student_id : 0;\r\n  }\r\n\r\n  private loadData() {\r\n    // https://my.hotspot.school/a/state\r\n    fetchWithTime(\"https://oruman.github.io/hsea/json/state.json\")\r\n      .then(validateStatus)\r\n      .then(response => response.json())\r\n      .then(validateJson)\r\n      .then(response => {\r\n        if (response.state && response.state.user)\r\n          this.data = response.state.user;\r\n        GlobalEvents.publish(EventType.STATE_LOAD, null);\r\n      });\r\n  }\r\n}\r\n\r\nexport const GlobalStateService = new StateService();\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticStyle:{\"text-align\":\"center\"},attrs:{\"flat\":!(_vm.flat === undefined || _vm.flat === false)}},[(_vm.title)?_c('v-card-title',{domProps:{\"textContent\":_vm._s(_vm.title)}}):_vm._e(),_c('v-card-text',[_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"icon\":\"\",\"color\":_vm.color,\"disabled\":!_vm.loaded},nativeOn:{\"click\":function($event){_vm.playing ? _vm.pause() : _vm.play()}}},[(!_vm.playing || _vm.paused)?_c('v-icon',[_vm._v(\"mdi-play\")]):_c('v-icon',[_vm._v(\"mdi-pause\")])],1),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"icon\":\"\",\"color\":_vm.color,\"disabled\":!_vm.loaded},nativeOn:{\"click\":function($event){return _vm.stop()}}},[_c('v-icon',[_vm._v(\"mdi-stop\")])],1),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"icon\":\"\",\"color\":_vm.color,\"disabled\":!_vm.loaded},nativeOn:{\"click\":function($event){return _vm.mute()}}},[(!_vm.isMuted)?_c('v-icon',[_vm._v(\"mdi-volume-high\")]):_c('v-icon',[_vm._v(\"mdi-volume-mute\")])],1),(!_vm.loaded)?_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"icon\":\"\",\"color\":_vm.color},nativeOn:{\"click\":function($event){_vm.loaded ? _vm.download() : _vm.reload()}}},[_c('v-icon',[_vm._v(\"mdi-refresh\")])],1):_vm._e(),(_vm.loaded && _vm.downloadable)?_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"icon\":\"\",\"color\":_vm.color},nativeOn:{\"click\":function($event){_vm.loaded ? _vm.download() : _vm.reload()}}},[_c('v-icon',[_vm._v(\"mdi-download\")])],1):_vm._e(),_c('v-progress-linear',{staticStyle:{\"margin-top\":\"15px\",\"margin-bottom\":\"15px\"},attrs:{\"height\":\"5\",\"disabled\":!_vm.loaded},nativeOn:{\"click\":function($event){return _vm.setPosition()}},model:{value:(_vm.percentage),callback:function ($$v) {_vm.percentage=$$v},expression:\"percentage\"}}),_c('p',[_vm._v(_vm._s(_vm.currentTime)+\" / \"+_vm._s(_vm.duration))])],1),_c('audio',{ref:\"player\",attrs:{\"id\":\"player\",\"src\":_vm.file},on:{\"ended\":_vm.ended,\"canplay\":_vm.canPlay}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\r\n\r\n@Component\r\nexport default class Audio extends Vue {\r\n  @Prop({ type: Boolean, default: false }) private flat!: boolean;\r\n  @Prop({ type: String, default: null }) private title!: string;\r\n  @Prop({ type: String, default: null }) private file!: string;\r\n  @Prop({ type: Boolean, default: false }) private autoPlay!: boolean;\r\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n  @Prop({ type: Function, default: () => {} }) private ended!: Function;\r\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n  @Prop({ type: Function, default: () => {} }) private canPlay!: Function;\r\n  @Prop({ type: String, default: null }) private color!: string;\r\n  @Prop({ type: Boolean, default: false }) private downloadable!: boolean;\r\n\r\n  private firstPlay = true;\r\n  private isMuted = false;\r\n  private loaded = false;\r\n  private playing = false;\r\n  private paused = false;\r\n  private percentage = 0;\r\n  private currentTime = \"00:00:00\";\r\n  private audio: HTMLAudioElement;\r\n  private totalDuration = 0;\r\n  private volumeValue = 75;\r\n\r\n  constructor() {\r\n    super();\r\n    this.audio = this.$refs.player as HTMLAudioElement;\r\n  }\r\n\r\n  mounted() {\r\n    this.init();\r\n  }\r\n\r\n  beforeDestroy() {\r\n    this.audio.removeEventListener(\"timeupdate\", this._handlePlayingUI);\r\n    this.audio.removeEventListener(\"loadeddata\", this._handleLoaded);\r\n    this.audio.removeEventListener(\"pause\", this._handlePlayPause);\r\n    this.audio.removeEventListener(\"play\", this._handlePlayPause);\r\n    this.audio.removeEventListener(\"ended\", this._handleEnded);\r\n  }\r\n\r\n  private get duration() {\r\n    return this.loaded ? Audio.formatTime(this.totalDuration) : \"\";\r\n  }\r\n\r\n  private setPosition() {\r\n    this.audio.currentTime = (this.audio.duration / 100) * this.percentage;\r\n  }\r\n\r\n  private stop() {\r\n    this.audio.pause();\r\n    this.paused = true;\r\n    this.playing = false;\r\n    this.audio.currentTime = 0;\r\n  }\r\n\r\n  private play() {\r\n    if (this.playing) return;\r\n    this.audio.play().then(() => (this.playing = true));\r\n    this.paused = false;\r\n  }\r\n\r\n  private pause() {\r\n    this.paused = !this.paused;\r\n    this.paused ? this.audio.pause() : this.audio.play();\r\n  }\r\n\r\n  private download() {\r\n    this.audio.pause();\r\n    window.open(this.file, \"download\");\r\n  }\r\n\r\n  private mute() {\r\n    this.isMuted = !this.isMuted;\r\n    this.audio.muted = this.isMuted;\r\n    this.volumeValue = this.isMuted ? 0 : 75;\r\n  }\r\n\r\n  private reload() {\r\n    this.audio.load();\r\n  }\r\n\r\n  private _handleLoaded() {\r\n    if (this.audio.readyState >= 2) {\r\n      if (this.audio.duration === Infinity) {\r\n        // Fix duration for streamed audio source or blob based\r\n        // https://stackoverflow.com/questions/38443084/how-can-i-add-predefined-length-to-audio-recorded-from-mediarecorder-in-chrome/39971175#39971175\r\n        this.audio.currentTime = 1e101;\r\n        this.audio.ontimeupdate = () => {\r\n          // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n          this.audio.ontimeupdate = () => {};\r\n          this.audio.currentTime = 0;\r\n          this.totalDuration = this.audio.duration;\r\n          this.loaded = true;\r\n        };\r\n      } else {\r\n        this.totalDuration = this.audio.duration;\r\n        this.loaded = true;\r\n      }\r\n      if (this.autoPlay) this.audio.play();\r\n    } else {\r\n      throw new Error(\"Failed to load sound file\");\r\n    }\r\n  }\r\n\r\n  private _handlePlayingUI() {\r\n    this.percentage = (this.audio.currentTime / this.audio.duration) * 100;\r\n    this.currentTime = Audio.formatTime(this.audio.currentTime);\r\n    this.playing = true;\r\n  }\r\n\r\n  private _handlePlayPause(e: Event) {\r\n    if (e.type === \"play\" && this.firstPlay) {\r\n      // in some situations, audio.currentTime is the end one on chrome\r\n      this.audio.currentTime = 0;\r\n      if (this.firstPlay) {\r\n        this.firstPlay = false;\r\n      }\r\n    }\r\n    if (e.type === \"pause\" && !this.paused && !this.playing) {\r\n      this.currentTime = \"00:00:00\";\r\n    }\r\n  }\r\n\r\n  private _handleEnded() {\r\n    this.paused = this.playing = false;\r\n  }\r\n\r\n  private static formatTime(seconds: number) {\r\n    return new Date(seconds * 1000).toISOString().substr(11, 8);\r\n  }\r\n\r\n  private init() {\r\n    this.audio.addEventListener(\"timeupdate\", this._handlePlayingUI);\r\n    this.audio.addEventListener(\"loadeddata\", this._handleLoaded);\r\n    this.audio.addEventListener(\"pause\", this._handlePlayPause);\r\n    this.audio.addEventListener(\"play\", this._handlePlayPause);\r\n    this.audio.addEventListener(\"ended\", this._handleEnded);\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Audio.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Audio.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Audio.vue?vue&type=template&id=b53f0aa6&\"\nimport script from \"./Audio.vue?vue&type=script&lang=ts&\"\nexport * from \"./Audio.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VIcon,VProgressLinear})\n","\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport { EventType, GlobalEvents } from \"@/services/eventSystem\";\r\nimport { GlobalStateService } from \"@/services/stateService\";\r\nimport {\r\n  fetchWithTime,\r\n  validateJson,\r\n  validateStatus\r\n} from \"@/helpers/fetch-helpers\";\r\nimport Audio from \"@/components/Audio.vue\";\r\n\r\n@Component({\r\n  components: {\r\n    Audio\r\n  }\r\n})\r\nexport default class MonSpeaking extends Vue {\r\n  private studentId = 0;\r\n  private data: SimpleObject[] = [];\r\n\r\n  mounted() {\r\n    this.loadData();\r\n    GlobalEvents.subscribe(EventType.STATE_LOAD, this.loadData);\r\n  }\r\n\r\n  beforeDestroy() {\r\n    GlobalEvents.unsubscribe(EventType.STATE_LOAD, this.loadData);\r\n  }\r\n\r\n  private loadData() {\r\n    if (!this.studentId) this.studentId = GlobalStateService.studentId;\r\n    if (!this.studentId) return;\r\n    this.getListFiles(this.studentId).then(data => {\r\n      this.data = data;\r\n    });\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  private getListFiles(studentId: number) {\r\n    // https://my.hotspot.school/a/homework/monspeaking/student/871\r\n    return fetchWithTime(\"http://localhost/hotspot-api/montspeaking.json\")\r\n      .then(validateStatus)\r\n      .then(response => response.json())\r\n      .then(validateJson)\r\n      .then(response => {\r\n        const ret = [];\r\n        if (response.files) {\r\n          for (const item of response.files) {\r\n            if (!item.id || !item.name) continue;\r\n            ret.push({\r\n              id: item.id,\r\n              name: item.name,\r\n              link: \"http://localhost/hotspot-api/Test1.weba\"\r\n              /*\"https://my.hotspot.school/a/file/\" +\r\n                item.id +\r\n                \"/view/\" +\r\n                encodeURIComponent(item.name)*/\r\n            });\r\n          }\r\n        }\r\n        if (ret.length) return Promise.resolve(ret);\r\n        return Promise.reject();\r\n      });\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MonSpeaking.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MonSpeaking.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MonSpeaking.vue?vue&type=template&id=8d3474e8&\"\nimport script from \"./MonSpeaking.vue?vue&type=script&lang=ts&\"\nexport * from \"./MonSpeaking.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer})\n"],"sourceRoot":""}